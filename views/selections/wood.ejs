<% layout('./layouts/selection-list') -%>

<h1>
	Wood Index!
</h1>

<% woods.forEach(function(wood) { %>
	<div>
		<ul>
			<%= wood.title %><br>
			<div>
				<button class="toggle-edit-form">Edit</button>
			
				<div class="edit-list-form">
					
					Available Finishes:
					<ul>
						<% wood.finishes.forEach(function(finish) { %>
							<%= finish.title %> 
							<form action="/woods/<%= wood.id %>/finishes/<%= finish.id %>?_method=PUT" method="POST">
								<input type="submit" value="Delete Finishes" />
							</form>
						<% }) %>
					</ul>
					<form action="/woods/<%= wood.id %>/finishes?_method=PUT" method="POST">
						<select name="finishes">
							<% finishes.forEach(function(finish) { %>
								<option value="<%= finish.id %>"><%= finish.title %></option>
							<% }); %>
						</select>
						<input type="submit" value="Add Finish">
					</form>
					
					<form action="/woods/<%= wood.id %>?_method=PUT" method="POST">
						<input type="text" name="title" value="<%= wood.title %>">
						<input type="submit" value="Update">
					</form>
					<form action="/woods/<%= wood.id %>?_method=DELETE" method="POST">
						<input type="submit" value="Delete">
					</form>
				</div>
				
			</div>
		</ul>
	</div>
<% }); %>

<h3>
	New Wood/Material
</h3>

<form action="/woods" method="POST">
	
	<div>
		<input type="text" name="title" placeholder="Wood Species/Material">
	</div>
	
	
	<input type="submit">
</form>

<script src="/javascripts/project-show.js"></script>