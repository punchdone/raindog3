<% layout('./layouts/selection-list') -%>

<h1>
	<%= title %>
</h1>

<% doors.forEach(function(door) { %>
	<div>
		<ul>
			Door Name: <%= door.title %><br>
			Door Type: <%= door.type %><br>
			Door Type: <%= String(door.type).split(/'/)[1] %>
			<div>
				<button class="toggle-edit-form">Edit</button>

				<div class="edit-list-form">
					<form action="/doors/<%= door.id %>?_method=PUT" method="POST">
						Door Name: <input type="text" name="title" value="<%= door.title %>" /><br>
						Door Type:
						<select name="type" id="type">
							<% doortypes.forEach(function(doortype) { %>
								<option value="<%= doortype._id %>"><%= doortype.title %></option>
							<% }) %>
						</select>
						<input type="submit" value="Update" />
					</form>
					<form action="/doors/<%= door.id %>?_method=DELETE" method="POST">
						<input type="submit" value="Delete">
					</form>
				</div>
			</div>
		</ul>
	</div>
<% }); %>

<h3>
	New Door
</h3>

<form action="/doors" method="POST">
	
	<div>
	Door Name: <input type="text" name="title" placeholder="Door Name"><br>
	Door Type:
		<select name="type" id="type">
			<% doortypes.forEach(function(doortype) { %>
				<option value="<%= doortype._id %>"><%= doortype.title %></option>
			<% }) %>
		</select>
	</div>
	
	
	<input type="submit">
</form>

<script src="/javascripts/project-show.js"></script>